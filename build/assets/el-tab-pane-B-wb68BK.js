import{e as Ae,b as Q,d as q,_ as $e,u as Z,n as re,E as G,y as tt,z as at,m as nt,i as st,s as ot,A as ye,w as rt,t as lt}from"./base-BQVd69ut.js";import{i as it,m as le,e as ie,f as ct,h as ut,j as Te,g as ce,E as I}from"./event-3DiSBjGl.js";import{c as L}from"./strings-DYj8DN6N.js";import{f as dt,t as fe}from"./error-Cpq0EWYd.js";import{ay as ft,az as bt,aA as vt,aB as gt,aC as pt,aD as mt,aE as Pe,aF as Ce,aG as ht,aH as Oe,aI as be,aJ as Re,aK as X,aL as yt,aM as Tt,aN as Ct,aO as wt,aP as St,aQ as Nt,aR as _t,aS as Et,aT as je,aU as At,aV as $t,aW as Pt,aX as Ot,S as ue,d as z,j as Rt,aY as H,l as xe,ac as jt,q as ve,k as S,A as V,p as Be,a as Fe,o as Ie,n as xt,g as Le,u as x,F as J,c as O,M as Bt,b as w,P as Ft,r as de,C as Me,J as It,G as Lt,L as Mt,a7 as kt,e as Ut,s as zt,v as Dt}from"./index-b8DxEvin.js";import{c as Vt}from"./clamp-iJz4MCu1.js";import{U as ke}from"./event-BB_Ol6Sd.js";import{f as Wt}from"./vnode-Bh7OSXng.js";function Kt(e,t){for(var a=-1,l=e==null?0:e.length;++a<l&&t(e[a],a,e)!==!1;);return e}var Gt=Object.getOwnPropertySymbols,Ht=Gt?function(e){for(var t=[];e;)bt(t,vt(e)),e=gt(e);return t}:ft;function Ue(e){return pt(e,mt,Ht)}var Yt=Object.prototype,qt=Yt.hasOwnProperty;function Xt(e){var t=e.length,a=new e.constructor(t);return t&&typeof e[0]=="string"&&qt.call(e,"index")&&(a.index=e.index,a.input=e.input),a}function Jt(e,t){var a=Pe(e.buffer);return new e.constructor(a,e.byteOffset,e.byteLength)}var Qt=/\w*$/;function Zt(e){var t=new e.constructor(e.source,Qt.exec(e));return t.lastIndex=e.lastIndex,t}var we=Ce?Ce.prototype:void 0,Se=we?we.valueOf:void 0;function ea(e){return Se?Object(Se.call(e)):{}}var ta="[object Boolean]",aa="[object Date]",na="[object Map]",sa="[object Number]",oa="[object RegExp]",ra="[object Set]",la="[object String]",ia="[object Symbol]",ca="[object ArrayBuffer]",ua="[object DataView]",da="[object Float32Array]",fa="[object Float64Array]",ba="[object Int8Array]",va="[object Int16Array]",ga="[object Int32Array]",pa="[object Uint8Array]",ma="[object Uint8ClampedArray]",ha="[object Uint16Array]",ya="[object Uint32Array]";function Ta(e,t,a){var l=e.constructor;switch(t){case ca:return Pe(e);case ta:case aa:return new l(+e);case ua:return Jt(e);case da:case fa:case ba:case va:case ga:case pa:case ma:case ha:case ya:return ht(e,a);case na:return new l;case sa:case la:return new l(e);case oa:return Zt(e);case ra:return new l;case ia:return ea(e)}}var Ca="[object Map]";function wa(e){return Oe(e)&&be(e)==Ca}var Ne=X&&X.isMap,Sa=Ne?Re(Ne):wa,Na="[object Set]";function _a(e){return Oe(e)&&be(e)==Na}var _e=X&&X.isSet,Ea=_e?Re(_e):_a,Aa=1,ze="[object Arguments]",$a="[object Array]",Pa="[object Boolean]",Oa="[object Date]",Ra="[object Error]",De="[object Function]",ja="[object GeneratorFunction]",xa="[object Map]",Ba="[object Number]",Ve="[object Object]",Fa="[object RegExp]",Ia="[object Set]",La="[object String]",Ma="[object Symbol]",ka="[object WeakMap]",Ua="[object ArrayBuffer]",za="[object DataView]",Da="[object Float32Array]",Va="[object Float64Array]",Wa="[object Int8Array]",Ka="[object Int16Array]",Ga="[object Int32Array]",Ha="[object Uint8Array]",Ya="[object Uint8ClampedArray]",qa="[object Uint16Array]",Xa="[object Uint32Array]",m={};m[ze]=m[$a]=m[Ua]=m[za]=m[Pa]=m[Oa]=m[Da]=m[Va]=m[Wa]=m[Ka]=m[Ga]=m[xa]=m[Ba]=m[Ve]=m[Fa]=m[Ia]=m[La]=m[Ma]=m[Ha]=m[Ya]=m[qa]=m[Xa]=!0;m[Ra]=m[De]=m[ka]=!1;function Y(e,t,a,l,s,n){var f,h=t&Aa;if(a&&(f=s?a(e,l,s,n):a(e)),f!==void 0)return f;if(!yt(e))return e;var v=St(e);if(v)f=Xt(e);else{var b=be(e),T=b==De||b==ja;if(Tt(e))return Ct(e,h);if(b==Ve||b==ze||T&&!s)f={};else{if(!m[b])return s?e:{};f=Ta(e,b,h)}}n||(n=new wt);var g=n.get(e);if(g)return g;n.set(e,f),Ea(e)?e.forEach(function(p){f.add(Y(p,t,a,p,e,n))}):Sa(e)&&e.forEach(function(p,r){f.set(r,Y(p,t,a,r,e,n))});var o=Ue,c=v?void 0:o(e);return Kt(c||e,function(p,r){c&&(r=p,p=e[r]),Nt(f,r,Y(p,t,a,r,e,n))}),f}function Ja(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}function Qa(e,t){return t.length<2?e:_t(e,Et(t,0,-1))}function Za(e,t){return t=je(t,e),e=Qa(e,t),e==null||delete e[At(Ja(t))]}function en(e){return $t(e)?void 0:e}var tn=1,an=2,nn=4,sn=dt(function(e,t){var a={};if(e==null)return a;var l=!1;t=Pt(t,function(n){return n=je(n,e),l||(l=n.length>1),n}),Ot(e,Ue(e),a),l&&(a=Y(a,tn|an|nn,en));for(var s=t.length;s--;)Za(a,t[s]);return a});const on=e=>Ae?window.requestAnimationFrame(e):setTimeout(e,16),rn=e=>Ae?window.cancelAnimationFrame(e):clearTimeout(e),ln=(e,t,a)=>Wt(e.subTree).filter(n=>{var f;return jt(n)&&((f=n.type)==null?void 0:f.name)===t&&!!n.component}).map(n=>n.component.uid).map(n=>a[n]).filter(n=>!!n),cn=(e,t)=>{const a=ue({}),l=ue([]),s=new WeakMap,n=T=>{a.value[T.uid]=T,H(a),xe(()=>{const g=T.getVnode().el,o=g.parentNode;if(!s.has(o)){s.set(o,[]);const c=o.insertBefore.bind(o);o.insertBefore=(p,r)=>(s.get(o).some(N=>p===N||r===N)&&H(a),c(p,r))}s.get(o).push(g)})},f=T=>{delete a.value[T.uid],H(a);const g=T.getVnode().el,o=g.parentNode,c=s.get(o),p=c.indexOf(g);c.splice(p,1)},h=()=>{l.value=ln(e,t,a.value)},v=T=>T.render(),b=z({setup(T,{slots:g}){return()=>(h(),g.default?Rt(v,{render:g.default}):null)}});return{children:l,addChild:n,removeChild:f,ChildrenSorter:b}},un="horizontal",dn="vertical",fn={[un]:"deltaX",[dn]:"deltaY"},bn=({atEndEdge:e,atStartEdge:t,layout:a},l)=>{let s,n=0;const f=v=>v<0&&t.value||v>0&&e.value;return{hasReachedEdge:f,onWheel:v=>{rn(s);const b=v[fn[a.value]];f(n)&&f(n+b)||(n+=b,it()||v.preventDefault(),s=on(()=>{l(n),n=0}))}}},ee=Symbol("tabsRootContextKey"),vn=Q({tabs:{type:q(Array),default:()=>le([])},tabRefs:{type:q(Object),default:()=>le({})}}),We="ElTabBar",gn=z({name:We}),pn=z({...gn,props:vn,setup(e,{expose:t}){const a=e,l=ve(ee);l||fe(We,"<el-tabs><el-tab-bar /></el-tabs>");const s=Z("tabs"),n=S(),f=S(),h=()=>{let o=0,c=0;const p=["top","bottom"].includes(l.props.tabPosition)?"width":"height",r=p==="width"?"x":"y",j=r==="x"?"left":"top";return a.tabs.every(N=>{if(re(N.paneName))return!1;const _=a.tabRefs[N.paneName];if(!_)return!1;if(!N.active)return!0;o=_[`offset${L(j)}`],c=_[`client${L(p)}`];const i=window.getComputedStyle(_);return p==="width"&&(c-=Number.parseFloat(i.paddingLeft)+Number.parseFloat(i.paddingRight),o+=Number.parseFloat(i.paddingLeft)),!1}),{[p]:`${c}px`,transform:`translate${L(r)}(${o}px)`}},v=()=>f.value=h(),b=[],T=()=>{b.forEach(o=>o.stop()),b.length=0,Object.values(a.tabRefs).forEach(o=>{b.push(ie(o,v))})};V(()=>a.tabs,async()=>{await J(),v(),T()},{immediate:!0});const g=ie(n,()=>v());return Be(()=>{b.forEach(o=>o.stop()),b.length=0,g.stop()}),t({ref:n,update:v}),(o,c)=>(Ie(),Fe("div",{ref_key:"barRef",ref:n,class:Le([x(s).e("active-bar"),x(s).is(x(l).props.tabPosition)]),style:xt(f.value)},null,6))}});var mn=$e(pn,[["__file","tab-bar.vue"]]);const hn=Q({panes:{type:q(Array),default:()=>le([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),yn={tabClick:(e,t,a)=>a instanceof Event,tabRemove:(e,t)=>t instanceof Event},Ee="ElTabNav",Tn=z({name:Ee,props:hn,emits:yn,setup(e,{expose:t,emit:a}){const l=ve(ee);l||fe(Ee,"<el-tabs><tab-nav /></el-tabs>");const s=Z("tabs"),n=ct(),f=ut(),h=S(),v=S(),b=S(),T=S({}),g=S(),o=S(!1),c=S(0),p=S(!1),r=S(!0),j=ue(),N=O(()=>["top","bottom"].includes(l.props.tabPosition)),_=O(()=>N.value?"width":"height"),i=O(()=>({transform:`translate${_.value==="width"?"X":"Y"}(-${c.value}px)`})),{width:E,height:$}=Te(h),{width:M,height:D}=Te(v,{width:0,height:0},{box:"border-box"}),W=O(()=>N.value?E.value:$.value),k=O(()=>N.value?M.value:D.value),{onWheel:U}=bn({atStartEdge:O(()=>c.value<=0),atEndEdge:O(()=>k.value-c.value<=W.value),layout:O(()=>N.value?"horizontal":"vertical")},u=>{c.value=Vt(c.value+u,0,k.value-W.value)}),te=()=>{if(!h.value)return;const u=h.value[`offset${L(_.value)}`],C=c.value;if(!C)return;const d=C>u?C-u:0;c.value=d},He=()=>{if(!h.value||!v.value)return;const u=v.value[`offset${L(_.value)}`],C=h.value[`offset${L(_.value)}`],d=c.value;if(u-d<=C)return;const y=u-d>C*2?d+C:u-C;c.value=y},ge=async()=>{const u=v.value;if(!o.value||!b.value||!h.value||!u)return;await J();const C=T.value[e.currentName];if(!C)return;const d=h.value,y=C.getBoundingClientRect(),A=d.getBoundingClientRect(),P=N.value?u.offsetWidth-A.width:u.offsetHeight-A.height,B=c.value;let R=B;N.value?(y.left<A.left&&(R=B-(A.left-y.left)),y.right>A.right&&(R=B+y.right-A.right)):(y.top<A.top&&(R=B-(A.top-y.top)),y.bottom>A.bottom&&(R=B+(y.bottom-A.bottom))),R=Math.max(R,0),c.value=Math.min(R,P)},pe=()=>{var u;if(!v.value||!h.value)return;e.stretch&&((u=g.value)==null||u.update());const C=v.value[`offset${L(_.value)}`],d=h.value[`offset${L(_.value)}`],y=c.value;d<C?(o.value=o.value||{},o.value.prev=y,o.value.next=y+d<C,C-y<d&&(c.value=C-d)):(o.value=!1,y>0&&(c.value=0))},Ye=u=>{const C=ce(u);let d=0;switch(C){case I.left:case I.up:d=-1;break;case I.right:case I.down:d=1;break;default:return}const y=Array.from(u.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)"));let P=y.indexOf(u.target)+d;P<0?P=y.length-1:P>=y.length&&(P=0),y[P].focus({preventScroll:!0}),y[P].click(),me()},me=()=>{r.value&&(p.value=!0)},ae=()=>p.value=!1,qe=(u,C)=>{T.value[C]=u},Xe=async()=>{await J();const u=T.value[e.currentName];u?.focus({preventScroll:!0})};return V(n,u=>{u==="hidden"?r.value=!1:u==="visible"&&setTimeout(()=>r.value=!0,50)}),V(f,u=>{u?setTimeout(()=>r.value=!0,50):r.value=!1}),ie(b,pe),xe(()=>setTimeout(()=>ge(),0)),Bt(()=>pe()),t({scrollToActiveTab:ge,removeFocus:ae,focusActiveTab:Xe,tabListRef:v,tabBarRef:g,scheduleRender:()=>H(j)}),()=>{const u=o.value?[w("span",{class:[s.e("nav-prev"),s.is("disabled",!o.value.prev)],onClick:te},[w(G,null,{default:()=>[w(tt,null,null)]})]),w("span",{class:[s.e("nav-next"),s.is("disabled",!o.value.next)],onClick:He},[w(G,null,{default:()=>[w(at,null,null)]})])]:null,C=e.panes.map((d,y)=>{var A,P,B,R;const Je=d.uid,ne=d.props.disabled,K=(P=(A=d.props.name)!=null?A:d.index)!=null?P:`${y}`,se=!ne&&(d.isClosable||d.props.closable!==!1&&e.editable);d.index=`${y}`;const Qe=se?w(G,{class:"is-icon-close",onClick:F=>a("tabRemove",d,F)},{default:()=>[w(nt,null,null)]}):null,Ze=((R=(B=d.slots).label)==null?void 0:R.call(B))||d.props.label,et=!ne&&d.active?0:-1;return w("div",{ref:F=>qe(F,K),class:[s.e("item"),s.is(l.props.tabPosition),s.is("active",d.active),s.is("disabled",ne),s.is("closable",se),s.is("focus",p.value)],id:`tab-${K}`,key:`tab-${Je}`,"aria-controls":`pane-${K}`,role:"tab","aria-selected":d.active,tabindex:et,onFocus:()=>me(),onBlur:()=>ae(),onClick:F=>{ae(),a("tabClick",d,K,F)},onKeydown:F=>{const he=ce(F);se&&(he===I.delete||he===I.backspace)&&a("tabRemove",d,F)}},[Ze,Qe])});return j.value,w("div",{ref:b,class:[s.e("nav-wrap"),s.is("scrollable",!!o.value),s.is(l.props.tabPosition)]},[u,w("div",{class:s.e("nav-scroll"),ref:h},[e.panes.length>0?w("div",{class:[s.e("nav"),s.is(l.props.tabPosition),s.is("stretch",e.stretch&&["top","bottom"].includes(l.props.tabPosition))],ref:v,style:i.value,role:"tablist",onKeydown:Ye,onWheel:U},[e.type?null:w(mn,{ref:g,tabs:[...e.panes],tabRefs:T.value},null),C]):null])])}}}),Cn=Q({type:{type:String,values:["card","border-card",""],default:""},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:q(Function),default:()=>!0},stretch:Boolean}),oe=e=>Ft(e)||st(e),wn={[ke]:e=>oe(e),tabClick:(e,t)=>t instanceof Event,tabChange:e=>oe(e),edit:(e,t)=>["remove","add"].includes(t),tabRemove:e=>oe(e),tabAdd:()=>!0},Sn=z({name:"ElTabs",props:Cn,emits:wn,setup(e,{emit:t,slots:a,expose:l}){var s;const n=Z("tabs"),f=O(()=>["left","right"].includes(e.tabPosition)),{children:h,addChild:v,removeChild:b,ChildrenSorter:T}=cn(Me(),"ElTabPane"),g=S(),o=S((s=e.modelValue)!=null?s:"0"),c=async(i,E=!1)=>{var $,M,D,W;if(!(o.value===i||re(i)))try{let k;if(e.beforeLeave){const U=e.beforeLeave(i,o.value);k=U instanceof Promise?await U:U}else k=!0;if(k!==!1){const U=($=h.value.find(te=>te.paneName===o.value))==null?void 0:$.isFocusInsidePane();o.value=i,E&&(t(ke,i),t("tabChange",i)),(D=(M=g.value)==null?void 0:M.removeFocus)==null||D.call(M),U&&((W=g.value)==null||W.focusActiveTab())}}catch{}},p=(i,E,$)=>{i.props.disabled||(t("tabClick",i,$),c(E,!0))},r=(i,E)=>{i.props.disabled||re(i.props.name)||(E.stopPropagation(),t("edit",i.props.name,"remove"),t("tabRemove",i.props.name))},j=()=>{t("edit",void 0,"add"),t("tabAdd")},N=i=>{const E=ce(i);[I.enter,I.numpadEnter].includes(E)&&j()},_=i=>{const E=i.el.firstChild,$=["bottom","right"].includes(e.tabPosition)?i.children[0].el:i.children[1].el;E!==$&&E.before($)};return V(()=>e.modelValue,i=>c(i)),V(o,async()=>{var i;await J(),(i=g.value)==null||i.scrollToActiveTab()}),It(ee,{props:e,currentName:o,registerPane:v,unregisterPane:b,nav$:g}),l({currentName:o,get tabNavRef(){return sn(g.value,["scheduleRender"])}}),()=>{const i=a["add-icon"],E=e.editable||e.addable?w("div",{class:[n.e("new-tab"),f.value&&n.e("new-tab-vertical")],tabindex:"0",onClick:j,onKeydown:N},[i?de(a,"add-icon"):w(G,{class:n.is("icon-plus")},{default:()=>[w(ot,null,null)]})]):null,$=()=>w(Tn,{ref:g,currentName:o.value,editable:e.editable,type:e.type,panes:h.value,stretch:e.stretch,onTabClick:p,onTabRemove:r},null),M=w("div",{class:[n.e("header"),f.value&&n.e("header-vertical"),n.is(e.tabPosition)]},[w(T,null,{default:$,$stable:!0}),E]),D=w("div",{class:n.e("content")},[de(a,"default")]);return w("div",{class:[n.b(),n.m(e.tabPosition),{[n.m("card")]:e.type==="card",[n.m("border-card")]:e.type==="border-card"}],onVnodeMounted:_,onVnodeUpdated:_},[D,M])}}});var Nn=Sn;const _n=Q({label:{type:String,default:""},name:{type:[String,Number]},closable:{type:Boolean,default:void 0},disabled:Boolean,lazy:Boolean}),Ke="ElTabPane",En=z({name:Ke}),An=z({...En,props:_n,setup(e){const t=e,a=Me(),l=Lt(),s=ve(ee);s||fe(Ke,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const n=Z("tab-pane"),f=S(),h=S(),v=O(()=>{var r;return(r=t.closable)!=null?r:s.props.closable}),b=ye(()=>{var r;return s.currentName.value===((r=t.name)!=null?r:h.value)}),T=S(b.value),g=O(()=>{var r;return(r=t.name)!=null?r:h.value}),o=ye(()=>!t.lazy||T.value||b.value),c=()=>{var r;return(r=f.value)==null?void 0:r.contains(document.activeElement)};V(b,r=>{r&&(T.value=!0)});const p=Mt({uid:a.uid,getVnode:()=>a.vnode,slots:l,props:t,paneName:g,active:b,index:h,isClosable:v,isFocusInsidePane:c});return s.registerPane(p),Be(()=>{s.unregisterPane(p)}),kt(()=>{var r;l.label&&((r=s.nav$.value)==null||r.scheduleRender())}),(r,j)=>x(o)?Ut((Ie(),Fe("div",{key:0,id:`pane-${x(g)}`,ref_key:"paneRef",ref:f,class:Le(x(n).b()),role:"tabpanel","aria-hidden":!x(b),"aria-labelledby":`tab-${x(g)}`},[de(r.$slots,"default")],10,["id","aria-hidden","aria-labelledby"])),[[Dt,x(b)]]):zt("v-if",!0)}});var Ge=$e(An,[["__file","tab-pane.vue"]]);const In=rt(Nn,{TabPane:Ge}),Ln=lt(Ge);export{In as E,Ln as a};
