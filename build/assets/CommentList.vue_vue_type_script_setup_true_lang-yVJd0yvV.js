import{u as U}from"./user-KKBVMGEq.js";import{d as u,a as s,f as e,o as l,k as x,c as N,U as f,b as m,s as v,a4 as d,h as $,t as c,V as B,u as w}from"./index-b8DxEvin.js";function g(t,a="请先登录"){U().isLogin?t():window.$message.error(a)}const I={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 32 32"},R=u({name:"ThumbsUp",render:function(a,n){return l(),s("svg",I,n[0]||(n[0]=[e("path",{d:"M26 12h-6V6a3.003 3.003 0 0 0-3-3h-2.133a2.01 2.01 0 0 0-1.98 1.717l-.845 5.917L8.465 16H2v14h21a7.008 7.008 0 0 0 7-7v-7a4.005 4.005 0 0 0-4-4zM8 28H4V18h4zm20-5a5.006 5.006 0 0 1-5 5H10V17.303l3.958-5.937l.91-6.366H17a1 1 0 0 1 1 1v8h8a2.002 2.002 0 0 1 2 2z",fill:"currentColor"},null,-1)]))}}),S={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 32 32"},F=u({name:"ThumbsUpFilled",render:function(a,n){return l(),s("svg",S,n[0]||(n[0]=[e("path",{d:"M2 16h5v14H2z",fill:"currentColor"},null,-1),e("path",{d:"M23 30H9V15.197l3.042-4.563l.845-5.917A2.01 2.01 0 0 1 14.867 3H15a3.003 3.003 0 0 1 3 3v6h8a4.005 4.005 0 0 1 4 4v7a7.008 7.008 0 0 1-7 7z",fill:"currentColor"},null,-1)]))}}),O={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},j=u({name:"CommentOutlined",render:function(a,n){return l(),s("svg",O,n[0]||(n[0]=[e("path",{d:"M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4l-.01-18zM20 4v13.17L18.83 16H4V4h16zM6 12h12v2H6zm0-3h12v2H6zm0-3h12v2H6z",fill:"currentColor"},null,-1)]))}}),A={key:0,class:"mt-10 text-base font-bold"},D={key:0,class:"text-sm"},E={class:"flex-1 pb-5 ml-4 border-0 border-b border-gray-200 dark:border-gray-200/20 border-solid"},P={style:{"overflow-wrap":"anywhere"}},q={class:"text-sky-500"},G={key:0,style:{"overflow-wrap":"anywhere"},class:"p-2 mt-2 bg-stone-100 dark:bg-stone-100/10 rounded-md"},J={class:"text-sky-500"},K={class:"flex justify-between mt-2 text-xs opacity-60"},Q={class:"flex items-center"},W=["onClick"],X={class:"pl-1"},Y=["onClick"],te=u({__name:"CommentList",props:{list:{},title:{},resourceId:{},commentTotalNum:{default:0},type:{default:1}},emits:["updateCommentList","updateCommentLiked"],setup(t,{emit:a}){const n=t,i=x(),y=a,C=N(()=>i.value&&"回复: "+i.value.user.nickname),_=x(),b=r=>{g(()=>{_.value?.show(),i.value=n.list[r]})},H=r=>{y("updateCommentList",r),i.value=null},z=(r,L)=>{g(()=>{let p=r.liked?0:1;n.type,n.resourceId,r.commentId;let h=p===0?"取消点赞成功":" 点赞成功";window.$message.success(h)})};return(r,L)=>{const p=d("replied-comment-modal"),h=d("n-avatar"),V=d("n-time"),k=d("n-icon");return l(),s(f,null,[m(p,{ref_key:"commentModalRef",ref:_,"comment-placeholder":C.value,title:"回复评论","update-comment-list":H,type:t.type,"resource-id":t.resourceId,"comment-id":i.value?.commentId},null,8,["comment-placeholder","type","resource-id","comment-id"]),t.list.length?(l(),s("p",A,[$(c(t.title)+" ",1),t.commentTotalNum?(l(),s("span",D,"("+c(t.commentTotalNum)+")",1)):v("",!0)])):v("",!0),(l(!0),s(f,null,B(t.list,(o,M)=>(l(),s("div",{key:o.id,class:"flex mt-5"},[m(h,{"img-props":{crossorigin:"anonymous"},round:"",size:50,src:o.user.avatarUrl},null,8,["src"]),e("div",E,[e("div",P,[e("span",q,c(o?.user.nickname)+"：",1),e("span",null,c(o.content),1)]),o.beReplied.length?(l(),s("div",G,[e("span",J,"@"+c(o.beReplied[0]?.user?.nickname)+"：",1),e("span",null,c(o?.beReplied[0].content),1)])):v("",!0),e("div",K,[m(V,{time:o.time},null,8,["time"]),e("div",Q,[e("div",{class:"flex items-center mr-4 cursor-pointer",onClick:T=>z(o)},[m(k,{component:o.liked?w(F):w(R)},null,8,["component"]),e("span",X,c(o.likedCount),1)],8,W),e("div",{class:"pl-4 border-gray-300 dark:border-gray-300/50 cursor-pointer flex-items-center border-left",onClick:T=>b(M)},[m(k,{component:w(j)},null,8,["component"])],8,Y)])])])]))),128))],64)}}});export{te as _,g as u};
