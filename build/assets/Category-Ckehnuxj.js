import"./base-BQVd69ut.js";import{E as w}from"./el-button-BFfMptIm.js";import{d as v,k as h,l as C,af as $,a,f as r,U as g,V as x,t as d,X as k,o,L as V,b as _,s as B,w as N,ag as P,u as y,g as q,a3 as D,h as E}from"./index-b8DxEvin.js";import{_ as H}from"./CoverPlay.vue_vue_type_style_index_0_lang-TzMO3WP5.js";import"./index-BvHh02iH.js";import"./constants-zWIDR2xC.js";import"./use-global-config-BcuVRQnT.js";import"./objects-JOKj_S0Y.js";import"./el-image-viewer-CWb6PQYi.js";import"./event-3DiSBjGl.js";import"./index-vyc-TgTO.js";import"./scroll-BvtJi3kH.js";import"./IconPark.vue_vue_type_script_setup_true_lang-qUxdgk-o.js";import"./PlayOne-DeVsIhjT.js";import"./Play-Ppi-ez2Z.js";const T={class:"grid grid-flow-row grid-cols-8 2xl:grid-cols-12 gap-2.5"},L=["onClick"],M=v({__name:"PlaylistHot",emits:["catChange"],setup(b,{emit:i}){const u=i,t=s=>{u("catChange",s)};k();const c=h();return C(async()=>{c.value=await $()}),(s,m)=>(o(),a("div",T,[r("div",{class:"button-dc",onClick:m[0]||(m[0]=e=>t("全部"))},"全部"),(o(!0),a(g,null,x(c.value,e=>(o(),a("div",{key:e.id,class:"button-dc",onClick:l=>t(e.name)},d(e.name),9,L))),128))]))}}),U={class:"py-5 text-xl"},z={class:"gap-5 grid grid-flow-row grid-cols-3 lg:grid-cols-5 2xl:grid-cols-7"},F=["onClick"],I={class:"mt-2 text-xs text-main leading-5"},R={class:"mt-2 text-xs text-main truncate text-dc"},S={key:0,class:"py-10"},nt=v({__name:"Category",setup(b){const i=h(),u=k(),t=V({init:!1,loading:!1,limit:35,before:0,more:!1,cat:"全部"}),c=e=>{t.cat=e,t.before=0,t.more=!1,s()},s=async()=>{t.loading=!0;try{const{playlists:e,lasttime:l,more:p}=await P({limit:t.limit,before:t.before,cat:t.cat});t.before<=0?i.value=e:i.value?.push(...e),t.init=!0,t.loading=!1,t.before=l,t.more=p}catch{}},m=()=>{s()};return C(s),(e,l)=>{const p=w;return o(),a(g,null,[_(M,{onCatChange:c}),r("div",U,d(t.cat)+"歌单",1),r("div",z,[(o(!0),a(g,null,x(i.value,(n,f)=>(o(),a("div",{key:f,class:q({"item-1":f===0}),onClick:X=>y(u).push({name:y(D).playlist,query:{id:n.id}})},[_(H,{name:n.name,"pic-url":n.coverImgUrl,"play-count":n.playCount,"show-play-count":""},null,8,["name","pic-url","play-count"]),r("div",I,d(n.name),1),r("div",R,d(n.creator.nickname),1)],10,F))),128))]),t.more?(o(),a("div",S,[_(p,{type:"text",class:"text-center w-full",onClick:m,loading:t.loading},{default:N(()=>[...l[0]||(l[0]=[E("加载更多",-1)])]),_:1},8,["loading"])])):B("",!0)],64)}}});export{nt as default};
