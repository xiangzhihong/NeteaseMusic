import{c as M,i as G,b as X,d as Y,_ as D,u as J,a as K,w as Q}from"./base-BQVd69ut.js";import{E as Z,a as ee}from"./el-tab-pane-B-wb68BK.js";import{d as k,S as T,k as g,c as $,A as W,l as te,m as oe,a as C,o as h,f as w,r as ae,n as B,g as A,u as i,F as P,W as se,X as le,b as y,w as H,a4 as ne,z as re,U as ue,V as ie,x as ce}from"./index-b8DxEvin.js";import{u as fe,c as I,a as me}from"./event-3DiSBjGl.js";import{C as O}from"./event-BB_Ol6Sd.js";import{a as pe}from"./scroll-BvtJi3kH.js";import{t as de}from"./error-Cpq0EWYd.js";import"./strings-DYj8DN6N.js";import"./clamp-iJz4MCu1.js";import"./vnode-Bh7OSXng.js";const ve=X({zIndex:{type:Y([Number,String]),default:100},target:{type:String,default:""},offset:{type:Number,default:0},position:{type:String,values:["top","bottom"],default:"top"}}),_e={scroll:({scrollTop:l,fixed:r})=>G(l)&&M(r),[O]:l=>M(l)},U="ElAffix",be=k({name:U}),xe=k({...be,props:ve,emits:_e,setup(l,{expose:r,emit:s}){const e=l,v=J("affix"),t=T(),f=T(),u=T(),{height:c}=fe(),{height:m,width:n,top:S,bottom:N,update:_}=I(f,{windowScroll:!1}),b=I(t),o=g(!1),R=g(0),x=g(0),F=$(()=>({height:o.value?`${m.value}px`:"",width:o.value?`${n.value}px`:""})),L=$(()=>{if(!o.value)return{};const a=e.offset?K(e.offset):0;return{height:`${m.value}px`,width:`${n.value}px`,top:e.position==="top"?a:"",bottom:e.position==="bottom"?a:"",transform:x.value?`translateY(${x.value}px)`:"",zIndex:e.zIndex}}),V=()=>{if(!u.value)return;R.value=u.value instanceof Window?document.documentElement.scrollTop:u.value.scrollTop||0;const{position:a,target:E,offset:p}=e,z=p+m.value;if(a==="top")if(E){const d=b.bottom.value-z;o.value=p>S.value&&b.bottom.value>0,x.value=d<0?d:0}else o.value=p>S.value;else if(E){const d=c.value-b.top.value-z;o.value=c.value-p<N.value&&c.value>b.top.value,x.value=d<0?-d:0}else o.value=c.value-p<N.value},j=async()=>{if(!o.value){_();return}o.value=!1,await P(),_(),o.value=!0},q=async()=>{_(),await P(),s("scroll",{scrollTop:R.value,fixed:o.value})};return W(o,a=>s(O,a)),te(()=>{var a;e.target?(t.value=(a=document.querySelector(e.target))!=null?a:void 0,t.value||de(U,`Target does not exist: ${e.target}`)):t.value=document.documentElement,u.value=pe(f.value,!0),_()}),me(u,"scroll",q),oe(V),r({update:V,updateRoot:j}),(a,E)=>(h(),C("div",{ref_key:"root",ref:f,class:A(i(v).b()),style:B(i(F))},[w("div",{class:A({[i(v).m("fixed")]:o.value}),style:B(i(L))},[ae(a.$slots,"default")],6)],6))}});var ge=D(xe,[["__file","affix.vue"]]);const he=Q(ge);function we(){const l=[{label:"精选",name:"picked"},{label:"有声电台",name:"radio"},{label:"排行",name:"toplist"},{label:"歌手",name:"artist"},{label:"分类歌单",name:"category"},{label:"数字专辑",name:"zj"}],r=le(),s=se(),e=g(s.name);return W(()=>s.name,t=>{e.value=t}),{menus:l,currentMenu:e,onTabClick:({props:t})=>{r.push({name:t.name,replace:!0})}}}const Ee={class:"pl-5 pr-5 music"},Te={class:"bg-view"},ye={class:"mt-5"},Ae=k({__name:"Music",setup(l){const{menus:r,currentMenu:s,onTabClick:e}=we();return(v,t)=>{const f=ee,u=Z,c=he,m=ne("RouterView");return h(),C("div",Ee,[t[1]||(t[1]=w("h1",{class:"text-3xl font-bold pt-8 pb-4"},"音乐馆",-1)),y(c,{target:".music",offset:56},{default:H(()=>[w("div",Te,[y(u,{modelValue:i(s),"onUpdate:modelValue":t[0]||(t[0]=n=>re(s)?s.value=n:null),onTabClick:i(e)},{default:H(()=>[(h(!0),C(ue,null,ie(i(r),n=>(h(),ce(f,{key:n.name,label:n.label,name:n.name,class:"text-main"},null,8,["label","name"]))),128))]),_:1},8,["modelValue","onTabClick"])])]),_:1}),w("div",ye,[y(m)])])}}});export{Ae as default};
