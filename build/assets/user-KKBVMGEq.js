import{Z as s,bc as i,bd as c}from"./index-b8DxEvin.js";const a=s("user",{state:()=>({token:"",cookie:"",showLogin:!1,profile:{}}),getters:{isLogin:o=>o.profile?.userId>0},actions:{async login(o,t){const e=await c(o,t);e.code==200&&(this.token=e.token,this.cookie=e.cookie,document.cookie=e.cookie,localStorage.setItem("USER-TOKEN",this.token),localStorage.setItem("USER-COOKIE",this.cookie),this.checkLogin())},async checkLogin(){const{data:o}=await i();o.code===200&&(this.profile=o.profile,this.showLogin=!1)}}});export{a as u};
